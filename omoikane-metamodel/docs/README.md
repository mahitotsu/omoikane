# Omoikane品質評価ドキュメント

Omoikaneメタモデルの品質評価システムに関する包括的なドキュメント集です。

## 📚 ドキュメント一覧

### [変更履歴（2025年10月）](./changelog-2025-10.md) 🆕

2025年10月の主要な変更まとめ。

**対象読者**: 全てのプロジェクトメンバー

**内容**:

- ScreenFlow.relatedUseCase の必須化
- 型システムによる保証の徹底
- 型検出システムの統一
- 品質評価の純粋化
- 循環UIパターンのサポート
- コンテキスト推論の改善
- 破壊的変更と移行ガイド

### [品質評価ガイド](./quality-assessment-guide.md)

品質評価レポートの読み方と各要素の説明。

**対象読者**: 全てのプロジェクトメンバー

**内容**:

- レポートの構成と各セクションの意味
- 総合健全性スコアの解釈
- 5次元成熟度評価の見方
- 成熟度レベル1-5の到達条件
- 推奨事項の活用方法
- 改善の進め方

### [推奨事項対処ガイド](./recommendations-guide.md)

AI推奨事項の具体的な対処方法と実装例。

**対象読者**: 開発者、設計者

**内容**:

- アクター関連の推奨事項への対処
- ユースケース関連の推奨事項への対処
- 業務要件関連の推奨事項への対処
- トレーサビリティの改善方法
- 成熟度レベル向上のロードマップ
- Before/Afterのコード例

### [メトリクス算出方法](./metrics-calculation.md)

各種メトリクスの詳細な計算方法とアルゴリズム。

**対象読者**: 開発者、品質管理担当者、技術リーダー

**内容**:

- 総合健全性スコアの計算式
- 5次元成熟度評価の計算方法
- 追加評価指標の算出ロジック
- 依存関係分析のアルゴリズム
- AI推奨事項の生成方法
- カスタマイズポイント

### [成熟度基準の進化](./maturity-criteria-evolution.md)

品質評価基準の変更履歴と設計判断の記録。

**対象読者**: 開発者、アーキテクト、品質管理担当者

**内容**:

- 2024年: ステップ数基準の削除
- 問題の発見経緯と根本原因分析
- 解決策（3フェーズ）の実装
- 新しい評価基準（ステップの質）
- フロー設計妥当性チェックの追加
- 設計原則の学び

## 🚀 クイックスタート

### 品質評価の実行

```bash
# プロジェクトディレクトリで実行
cd /path/to/your/project
bun run quality-assessment
```

### レポートの読み方（3ステップ）

1. **総合健全性スコア**を確認
   - 60点未満: 早急な改善が必要
   - 60-74点: 改善の余地あり
   - 75点以上: 良好な状態

2. **5次元成熟度評価**で弱点を特定
   - 40%未満の次元を優先的に改善
   - バラつきが大きい場合は一貫性に注目

3. **クイックウィン**から着手
   - 4時間以内で完了できる改善項目
   - 効果が即座に表れる

## 📊 品質評価レポートの例

```
=== 📊 品質評価レポート v2.0 ===

【総合健全性スコア】
  スコア:   68/100
  レベル:   FAIR
  成熟度:   レベル3/5

【5次元成熟度評価】
  テスト可能性     ░░░░░░░░░░░░░░░░░░░░   0.0% (0/33)
  保守性           ░░░░░░░░░░░░░░░░░░░░   0.0% (0/22)
  トレーサビリティ █████████░░░░░░░░░░░  49.5% (29/49)
  詳細度           ██████████████░░░░░░  71.7% (71/108)
  構造の完全性     ████████████████████ 100.0% (77/77)

【AI推奨事項】
  総数: 35件
  最優先: 5件
  クイックウィン: 5件

【最優先推奨事項（優先度順）】
※ 優先度が高く、プロジェクトへの影響が大きい改善項目

  1. 重要要素の品質強化: reservation-business-requirements
     優先度: high | 工数: 8時間 | 複雑度: moderate
     問題: 影響度が高い要素(入次数11, 出次数36)の品質が重要
  2. ゴールの定義: アクターのゴールが明確に定義されている ⚡
     優先度: high | 工数: 2時間 | 複雑度: simple
     問題: 要素 capacity-planner は レベル 5 に達していません

【クイックウィン（工数順・すぐ着手可能）】
※ 工数が少なく（≤4h）、複雑度が低く、すぐに実行できる改善項目

  • ゴールの定義: アクターのゴールが明確に定義されている (2h × 4件 = 8h)
    対象: capacity-planner, store-staff, system-admin, visitor
  • MVP/PoCステージに適したドキュメンテーション戦略 (4h)
```

**推奨事項の見方:**

- ⚡マーク: 最優先推奨事項でもありクイックウィンでもある項目
- グループ化: 同じタイトルの推奨は対象要素を明示してまとめて表示
- 観点の違い: 最優先（優先度・影響）vs クイックウィン（工数・簡易性）

## 🎯 成熟度レベルの概要

| レベル | 名称                   | 説明                         | 到達の目安             |
| ------ | ---------------------- | ---------------------------- | ---------------------- |
| 1      | INITIAL（初期）        | 基本情報のみ存在             | プロジェクト開始直後   |
| 2      | REPEATABLE（反復可能） | 構造化され一貫性がある       | 初期設計完了           |
| 3      | DEFINED（定義済み）    | 詳細化され標準化されている   | 基本設計完了           |
| 4      | MANAGED（管理済み）    | 測定可能で管理されている     | 詳細設計完了           |
| 5      | OPTIMIZED（最適化）    | 継続的改善が組み込まれている | 継続的改善プロセス確立 |

### レベル別の推奨工数

- **レベル1→2**: 約20-40時間（プロジェクト全体）
- **レベル2→3**: 約40-80時間（代替フロー、詳細化）
- **レベル3→4**: 約60-120時間（非機能要件、トレーサビリティ）
- **レベル4→5**: 約80-160時間（包括的な仕様、エラーハンドリング）

## 🔧 改善の進め方

### 1. 現状把握（15分）

```bash
bun run quality-assessment
# レポートを読み、現在のレベルとスコアを確認
```

### 2. クイックウィンに着手（2-4時間）

品質評価レポートの「クイックウィン」セクションを確認し、以下のような項目から着手：

- アクターにゴール（goals）を追加（各2時間）
- アクターの説明を50文字以上に拡充
- 事前条件・事後条件の追加
- 未使用アクターの解消

**ポイント:**

- グループ化された推奨は対象要素を確認
- ⚡マークの項目は最優先でもあるため特に重要
- 同じタイトルでも対象が異なる場合は個別に対応

### 3. 最優先事項に取り組む（1-2週間）

- 影響度の高い要素（依存関係が多い）の品質向上
- 次の成熟度レベルに必須の項目
- トレーサビリティの強化

### 4. 定期的な評価（週次/スプリント毎）

```bash
# 改善の進捗を定期的に確認
bun run quality-assessment
```

### 5. チームでの共有

- レポートをレビュー会議で共有
- 改善事例を横展開
- ベストプラクティスを蓄積

## 📖 よくある質問

### Q: 品質評価はいつ実行すべきですか？

**A:** 以下のタイミングで実行を推奨します：

- 設計フェーズの完了時
- スプリントの開始/終了時
- 大きな変更をコミットする前
- レビュー会議の前
- 定期的（週次または隔週）

### Q: スコアが低い場合、どこから改善すべきですか？

**A:** 以下の順序で改善を進めてください：

1. **クイックウィン**（4時間以内で完了）
   - グループ化された推奨は対象要素をまとめて対応すると効率的
   - ⚡マーク付きの項目は特に重要
2. **構造の完全性**が100%未満なら最優先で対応
3. **詳細度**を60%以上に（説明の充実化）
4. **トレーサビリティ**を50%以上に（関連付けの追加）
5. **テスト可能性**と**保守性**は余裕があれば

### Q: 成熟度レベル5は必須ですか？

**A:** いいえ。プロジェクトの性質に応じて目標を設定してください：

- **PoC/MVP**: レベル2-3で十分
- **本格開発**: レベル3-4を目指す
- **エンタープライズ/ミッションクリティカル**: レベル4-5が望ましい

### Q: レポートの推奨事項が多すぎて対応しきれません

**A:** 以下の方針で優先順位をつけてください：

1. 「クイックウィン」をまず完了（即効性が高い）
   - 同じタイトルでも対象要素を確認して個別対応
2. 「最優先」の上位3-5件に絞る
   - ⚡マーク付きは既にクイックウィンで対応済み
3. チームで分担して対応
4. スプリント毎に5-10件ずつ改善

### Q: カスタマイズは可能ですか？

**A:** はい。以下をカスタマイズできます：

- 基準の重み（`maturity-criteria.ts`）
- 健全性スコアの構成比率（`metrics-dashboard.ts`）
- コンテキスト別の係数（`context-model.ts`）
- 工数見積もり

詳細は [メトリクス算出方法](./metrics-calculation.md) を参照してください。

## 🤝 サポート

### ドキュメントの改善提案

ドキュメントの改善提案や質問は、GitHubのIssueまたはDiscussionsでお願いします。

### 品質評価に関する質問

- [品質評価ガイド](./quality-assessment-guide.md) - レポートの読み方
- [推奨事項対処ガイド](./recommendations-guide.md) - 具体的な対処方法
- [メトリクス算出方法](./metrics-calculation.md) - 計算の詳細

### コントリビューション

品質評価システムの改善や新機能の提案を歓迎します。PRをお送りください。

## 📝 更新履歴

- **2025-10-06**: 初版リリース
  - 品質評価ガイド
  - 推奨事項対処ガイド
  - メトリクス算出方法

## ライセンス

このドキュメントはOmoikaneメタモデルと同じライセンス下で提供されます。
